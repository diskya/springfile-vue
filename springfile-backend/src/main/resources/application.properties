spring.application.name=springfile
spring.jpa.open-in-view=false

# Cloud SQL PostgreSQL Configuration
# Uses Spring Cloud GCP Starter for automatic configuration via IAM/Auth Proxy
spring.cloud.gcp.sql.instance-connection-name=gen-lang-client-0595364862:asia-northeast1:springfile-pg-instance
spring.cloud.gcp.sql.database-name=springfiledb
spring.datasource.username=springfileuser
# Password should be set via DB_PASS environment variable (ideally from Secret Manager)
spring.datasource.password=${DB_PASS}

# JPA/Hibernate Settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Google Cloud Storage Configuration
# Bucket name will be read from GCS_BUCKET_NAME environment variable
gcs.bucket.name=${GCS_BUCKET_NAME}

# FastAPI Configuration
# Use environment variable FASTAPI_URL, default to localhost:8001 for local dev
fastapi.service.url=${FASTAPI_URL:http://localhost:8001}

# MVC Path Matching Strategy (for SPA routing compatibility)
spring.mvc.pathmatch.matching-strategy=ant_path_matcher

# Server Port Configuration (for Cloud Run compatibility)
server.port=${PORT:8080}

# Force UTF-8 Encoding for Web requests/responses and JSON
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
spring.jackson.charset=UTF-8
